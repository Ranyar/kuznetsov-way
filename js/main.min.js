const countriesTabs=document.querySelector(".catalog-nav__list"),countryCards=document.querySelectorAll(".countries-card__link");let selectedTab=document.querySelector(".catalog-nav__link--active");for(let e=0;e<countryCards.length;e++)countryCards[e].addEventListener("click",()=>{openTab(countryCards[e].dataset.countriesItem)});function onClick(e){!e.target.classList.contains("catalog-nav__link")||openTab(e.target.dataset.catalogNav)}function openTab(e){selectedTab.classList.remove("catalog-nav__link--active");let a=selectedTab.dataset.catalogNav;document.getElementById(a).classList.add("visually-hidden"),a=e,selectedTab=document.querySelector(`[data-catalog-nav="${e}"]`),selectedTab.classList.add("catalog-nav__link--active"),document.getElementById(a).classList.remove("visually-hidden")}countriesTabs.addEventListener("click",onClick);const feedbackPhoneInput=document.getElementById("feedback-phone"),feedbackEmailInput=document.getElementById("feedback-email");feedbackPhoneInput.value=localStorage.getItem("feedback-phone"),feedbackEmailInput.value=localStorage.getItem("feedback-email"),feedbackPhoneInput.addEventListener("input",()=>{localStorage.setItem("feedback-phone",feedbackPhoneInput.value)}),feedbackEmailInput.addEventListener("input",()=>{localStorage.setItem("feedback-email",feedbackEmailInput.value)});const modalPhoneInput=document.getElementById("buy-tour-phone"),modalEmailInput=document.getElementById("buy-tour-email");modalPhoneInput.value=localStorage.getItem("modal-phone"),modalEmailInput.value=localStorage.getItem("modal-email"),modalPhoneInput.addEventListener("input",()=>{localStorage.setItem("modal-phone",modalPhoneInput.value)}),modalEmailInput.addEventListener("input",()=>{localStorage.setItem("modal-email",modalEmailInput.value)});const pageBody=document.querySelector(".page-body"),buyTourButtons=document.querySelectorAll('.button[data-modal="buy-tour"]'),modals=document.querySelectorAll(".modal"),modalBuyTour=document.querySelector(".modal--buy-tour"),modalSuccess=document.querySelector(".modal--success"),phoneBuyTour=modalBuyTour.querySelector('input[name="phone"]');for(let e=0;e<buyTourButtons.length;e++)buyTourButtons[e].addEventListener("click",e=>{e.preventDefault(),modalBuyTour.classList.add("modal--show"),pageBody.classList.add("page-body--no-scroll"),phoneBuyTour.focus()});window.addEventListener("keydown",e=>{"Escape"!==e.key&&"Esc"!==e.key||(modalBuyTour.classList.contains("modal--show")?modalBuyTour.classList.remove("modal--show"):modalSuccess.classList.contains("modal--show")&&modalSuccess.classList.remove("modal--show"),pageBody.classList.remove("page-body--no-scroll"))});for(let e=0;e<modals.length;e++)modals[e].addEventListener("click",a=>{(a.target.classList.contains("modal--show")||a.target.classList.contains("modal__wrapper")||a.target.classList.contains("modal__close"))&&(modals[e].classList.remove("modal--show"),pageBody.classList.remove("page-body--no-scroll"))});const showModalSuccess=()=>{modalBuyTour.classList.remove("modal--show"),modalSuccess.classList.add("modal--show"),pageBody.classList.add("page-body--no-scroll")};